============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\moham\OneDrive\Desktop\Shield Ryzen V1 inayat hussain\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\moham\OneDrive\Desktop\Shield Ryzen V1 inayat hussain
plugins: anyio-4.12.1, cov-7.0.0
collecting ... collected 73 items

tests/test_advanced_detection.py::TestAdvancedDetection::test_attribution_classifier_identifies_method PASSED [  1%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_challenge_response_generates_valid_challenges PASSED [  2%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_challenge_response_verifies_blink PASSED [  4%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_frequency_analyzer_flags_gan_face PASSED [  5%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_frequency_analyzer_passes_real_face PASSED [  6%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_lip_sync_detects_mismatch PASSED [  8%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_temporal_analyzer_detects_flickering PASSED [  9%]
tests/test_advanced_detection.py::TestAdvancedDetection::test_temporal_analyzer_passes_natural_video PASSED [ 10%]
tests/test_amd_hardware.py::TestAMDHardware::test_direct_capture_fallback_to_opencv PASSED [ 12%]
tests/test_amd_hardware.py::TestAMDHardware::test_ftpm_wrapper_fallback_to_software PASSED [ 13%]
tests/test_amd_hardware.py::TestAMDHardware::test_xdna_engine_fallback_to_onnx PASSED [ 15%]
tests/test_amd_hardware.py::TestAMDHardware::test_xdna_engine_performance_faster_than_onnx PASSED [ 16%]
tests/test_amd_hardware.py::TestAMDHardware::test_xmodel_compilation_produces_output PASSED [ 17%]
tests/test_amd_hardware.py::TestAMDHardware::test_zero_copy_buffer_allocation PASSED [ 19%]
tests/test_camera.py::test_valid_frame_passes_all_checks PASSED          [ 20%]
tests/test_camera.py::test_none_frame_returns_false PASSED               [ 21%]
tests/test_camera.py::test_wrong_channels_returns_false PASSED           [ 23%]
tests/test_camera.py::test_all_black_frame_returns_false PASSED          [ 24%]
tests/test_camera.py::test_all_white_frame_returns_false PASSED          [ 26%]
tests/test_camera.py::test_undersized_frame_returns_false PASSED         [ 27%]
tests/test_camera.py::test_stale_timestamp_detected PASSED               [ 28%]
tests/test_camera.py::test_health_status_reports_correctly PASSED        [ 30%]
tests/test_engine.py::TestShieldEngine::test_engine_initializes_all_modules PASSED [ 31%]
tests/test_engine.py::TestShieldEngine::test_fps_measurement_is_end_to_end PASSED [ 32%]
tests/test_engine.py::TestShieldEngine::test_logging_produces_valid_jsonl PASSED [ 34%]
tests/test_engine.py::TestShieldEngine::test_memory_growth_triggers_gc PASSED [ 35%]
tests/test_engine.py::TestShieldEngine::test_multi_face_returns_multiple_results PASSED [ 36%]
tests/test_engine.py::TestShieldEngine::test_no_face_with_timing PASSED  [ 38%]
tests/test_engine.py::TestShieldEngine::test_process_frame_returns_engine_result PASSED [ 39%]
tests/test_engine.py::TestShieldEngine::test_timing_breakdown_all_stages_present PASSED [ 41%]
tests/test_face_pipeline.py::test_single_face_detected_correctly PASSED  [ 42%]
tests/test_face_pipeline.py::test_multi_face_returns_all_faces PASSED    [ 43%]
tests/test_face_pipeline.py::test_no_face_returns_empty_list PASSED      [ 45%]
tests/test_face_pipeline.py::test_crop_is_exactly_299x299 PASSED         [ 46%]
tests/test_face_pipeline.py::test_normalization_values_correct PASSED    [ 47%]
tests/test_face_pipeline.py::test_bgr_to_rgb_conversion PASSED           [ 49%]
tests/test_face_pipeline.py::test_head_pose_frontal_detection PASSED     [ 50%]
tests/test_face_pipeline.py::test_occlusion_flagged_correctly PASSED     [ 52%]
tests/test_hud.py::TestShieldHUD::test_all_states_have_distinct_shapes PASSED [ 53%]
tests/test_hud.py::TestShieldHUD::test_hud_render_time_under_5ms PASSED  [ 54%]
tests/test_hud.py::TestShieldHUD::test_render_does_not_crash_on_empty_results PASSED [ 56%]
tests/test_hud.py::TestShieldHUD::test_render_handles_multi_face PASSED  [ 57%]
tests/test_hud.py::TestShieldHUD::test_text_contrast_ratio_meets_wcag PASSED [ 58%]
tests/test_model.py::test_checkpoint_key_count_matches_claim PASSED      [ 60%]
tests/test_model.py::test_all_keys_mapped_successfully PASSED            [ 61%]
tests/test_model.py::test_no_missing_model_keys PASSED                   [ 63%]
tests/test_model.py::test_model_hash_matches_expected PASSED             [ 64%]
tests/test_model.py::test_model_input_shape_correct PASSED               [ 65%]
tests/test_model.py::test_model_output_shape_correct PASSED              [ 67%]
tests/test_model.py::test_model_output_on_reference_image PASSED         [ 68%]
tests/test_model.py::test_tampered_model_raises_security_error PASSED    [ 69%]
tests/test_model.py::test_adversarial_fgsm_accuracy_within_tolerance PASSED [ 71%]
tests/test_model.py::test_adversarial_pgd_accuracy_within_tolerance PASSED [ 72%]
tests/test_quantization.py::test_calibration_dataset_has_minimum_500_frames PASSED [ 73%]
tests/test_quantization.py::test_int8_model_smaller_than_fp32 PASSED     [ 75%]
tests/test_quantization.py::test_compression_ratio_within_expected_range PASSED [ 76%]
tests/test_quantization.py::test_prediction_agreement_above_99_percent PASSED [ 78%]
tests/test_quantization.py::test_per_channel_quantization_used PASSED    [ 79%]
tests/test_quantization.py::test_npu_execution_coverage_logged PASSED    [ 80%]
tests/test_quantization.py::test_quantization_report_generated PASSED    [ 82%]
tests/test_quantization.py::test_int4_model_exists PASSED                [ 83%]
tests/test_utils.py::test_ear_frontal_correct_value PASSED               [ 84%]
tests/test_utils.py::test_ear_angled_applies_correction PASSED           [ 86%]
tests/test_utils.py::test_ear_extreme_angle_returns_low_reliability PASSED [ 87%]
tests/test_utils.py::test_laplacian_adaptive_threshold PASSED            [ 89%]
tests/test_utils.py::test_laplacian_frequency_analysis PASSED            [ 90%]
tests/test_utils.py::test_laplacian_forehead_roi_extraction PASSED       [ 91%]
tests/test_utils.py::test_confidence_calibrator_reduces_overconfidence PASSED [ 93%]
tests/test_utils.py::test_state_machine_hysteresis_prevents_flicker PASSED [ 94%]
tests/test_utils.py::test_conflict_resolution_truth_table_all_8_cases PASSED [ 95%]
tests/test_utils.py::test_device_baseline_calibration_produces_valid_json PASSED [ 97%]
tests/test_utils.py::test_blink_pattern_detection PASSED                 [ 98%]
tests/test_utils.py::test_threshold_optimization_differs_from_89 PASSED  [100%]

============================= 73 passed in 30.18s =============================
